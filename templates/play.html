{% extends "base.html" %}

{% block title %} Play {% endblock %}
{% block scripts %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'styles.css') }}">
{% endblock %}

{% block content %}
  <div class="section">
    <div class="container">
      <div class="columns">
        <div class="column is-half">
          <h3 id="username" style="display: none">{{ username }}</h3>
          <div id="hands">
            <div class="card">
              <header class="card-header">
                <p class="card-header-title is-centered">
                  [[ dealer.name ]]
                </p>
              </header>
              <div class="card-content">
                <p class="subtitle is-6">Капитал: [[ dealer.money ]]</p>
                <div v-if="dealer.cards_images != undefined">
                  <img v-for="card in dealer.cards_images" :src="[['../static/cards/' + card]]" height="102px" width="70px">
                </div>
              </div>
            </div>
            <div v-for="player in players">
              <div class="card" :id="player.name">
                <header class="card-header">
                  <p class="card-header-title is-centered">
                    [[ player.name ]]
                  </p>
                </header>
                <div class="card-content">
                  <p class="subtitle is-6">Капитал: [[ player.money ]]</p>
                  <p v-if="player.bet" class="subtitle is-6">Ставка: [[ player.bet ]]</p>
                  <div v-if="player.cards_images != undefined">
                    <img v-for="card in player.cards_images" :src="[['../static/cards/' + card]]" height="102px"
                         width="70px" class="images">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="column">
          <div class="field"><input id="bet_input" class="input" type="text" size="10"></div>
          <div class="buttons"><button class="button bet_btn" disabled id="bet">Поставить</button>
          <button class="button game_buttons" disabled id="take">Взять</button>
          <button class="button game_buttons" disabled id="next">Оставить</button>
          <button class="button game_buttons" disabled id="double">Удвоить</button></div>
          <textarea class="textarea has-fixed-size" id="chat_textarea" readonly></textarea>
          <form id="message_form" class="control">
              <div class="field">{{ form.message(class_="input") }}</div>
              <div class="field">{{ form.submit(class_="button") }}</div>
          </form>
        </div>
      </div>
    </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
  <script type = "text/javascript" src = "{{ url_for('static', filename = 'play.js') }}" ></script>
{% endblock %}
